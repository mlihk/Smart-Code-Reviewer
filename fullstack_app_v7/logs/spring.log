2025-04-07T00:58:35.882+08:00  INFO 14224 --- [smart-code-assistant] [main] c.f.s.SmartCodeAssistantApplication      : Starting SmartCodeAssistantApplication using Java 24 with PID 14224 (C:\Users\wawac\Downloads\smartcode\target\classes started by wawac in C:\Users\wawac\Downloads\smartcode)
2025-04-07T00:58:35.883+08:00 DEBUG 14224 --- [smart-code-assistant] [main] c.f.s.SmartCodeAssistantApplication      : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-04-07T00:58:35.884+08:00  INFO 14224 --- [smart-code-assistant] [main] c.f.s.SmartCodeAssistantApplication      : No active profile set, falling back to 1 default profile: "default"
2025-04-07T00:58:36.376+08:00  INFO 14224 --- [smart-code-assistant] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-04-07T00:58:36.471+08:00  INFO 14224 --- [smart-code-assistant] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 90 ms. Found 3 JPA repository interfaces.
2025-04-07T00:58:36.910+08:00  INFO 14224 --- [smart-code-assistant] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-04-07T00:58:36.919+08:00  INFO 14224 --- [smart-code-assistant] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-07T00:58:36.919+08:00  INFO 14224 --- [smart-code-assistant] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-04-07T00:58:36.969+08:00  INFO 14224 --- [smart-code-assistant] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-04-07T00:58:36.969+08:00  INFO 14224 --- [smart-code-assistant] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1048 ms
2025-04-07T00:58:37.084+08:00  INFO 14224 --- [smart-code-assistant] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-04-07T00:58:37.144+08:00  INFO 14224 --- [smart-code-assistant] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-04-07T00:58:37.172+08:00  INFO 14224 --- [smart-code-assistant] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-04-07T00:58:37.389+08:00  INFO 14224 --- [smart-code-assistant] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-04-07T00:58:37.411+08:00  INFO 14224 --- [smart-code-assistant] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-04-07T00:58:37.539+08:00  INFO 14224 --- [smart-code-assistant] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6d0114c0
2025-04-07T00:58:37.541+08:00  INFO 14224 --- [smart-code-assistant] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-04-07T00:58:37.585+08:00  WARN 14224 --- [smart-code-assistant] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-04-07T00:58:37.588+08:00  WARN 14224 --- [smart-code-assistant] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-04-07T00:58:38.284+08:00  INFO 14224 --- [smart-code-assistant] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-04-07T00:58:38.298+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    alter table chat_session 
       drop 
       foreign key FKaslpghp2780b8do9ui5ps7pjn
2025-04-07T00:58:38.327+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    alter table chat_session_messages 
       drop 
       foreign key FKawj0u6xdn1wxqcdckmkf9uyc3
2025-04-07T00:58:38.343+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    alter table chat_session_messages 
       drop 
       foreign key FK53xb1q6pje850vm1eldcyac1g
2025-04-07T00:58:38.355+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    drop table if exists chat_message
2025-04-07T00:58:38.377+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    drop table if exists chat_session
2025-04-07T00:58:38.399+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    drop table if exists chat_session_messages
2025-04-07T00:58:38.420+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    drop table if exists users
2025-04-07T00:58:38.447+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    create table chat_message (
        created_date_time datetime(6),
        message_id bigint not null auto_increment,
        message TEXT,
        model varchar(255),
        role varchar(255),
        primary key (message_id)
    ) engine=InnoDB
2025-04-07T00:58:38.485+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    create table chat_session (
        session_id bigint not null auto_increment,
        user_user_id bigint,
        session_name varchar(255),
        primary key (session_id)
    ) engine=InnoDB
2025-04-07T00:58:38.516+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    create table chat_session_messages (
        chat_session_session_id bigint not null,
        messages_message_id bigint not null,
        primary key (chat_session_session_id, messages_message_id)
    ) engine=InnoDB
2025-04-07T00:58:38.547+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    create table users (
        user_id bigint not null auto_increment,
        email varchar(255) not null,
        password varchar(255) not null,
        username varchar(255) not null,
        primary key (user_id)
    ) engine=InnoDB
2025-04-07T00:58:38.582+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    alter table chat_session_messages 
       add constraint UK_1vukney1t4sbhraov2vv1spvg unique (messages_message_id)
2025-04-07T00:58:38.607+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    alter table users 
       add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email)
2025-04-07T00:58:38.636+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-04-07T00:58:38.662+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    alter table chat_session 
       add constraint FKaslpghp2780b8do9ui5ps7pjn 
       foreign key (user_user_id) 
       references users (user_id)
2025-04-07T00:58:38.822+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    alter table chat_session_messages 
       add constraint FKawj0u6xdn1wxqcdckmkf9uyc3 
       foreign key (messages_message_id) 
       references chat_message (message_id)
2025-04-07T00:58:38.962+08:00 DEBUG 14224 --- [smart-code-assistant] [main] org.hibernate.SQL                        : 
    alter table chat_session_messages 
       add constraint FK53xb1q6pje850vm1eldcyac1g 
       foreign key (chat_session_session_id) 
       references chat_session (session_id)
2025-04-07T00:58:39.104+08:00  INFO 14224 --- [smart-code-assistant] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T00:58:39.713+08:00 DEBUG 14224 --- [smart-code-assistant] [main] c.f.s.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-04-07T00:58:40.405+08:00  WARN 14224 --- [smart-code-assistant] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-04-07T00:58:40.873+08:00  INFO 14224 --- [smart-code-assistant] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44f88149, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b1a3125, org.springframework.security.web.context.SecurityContextHolderFilter@1a4c6e74, org.springframework.security.web.header.HeaderWriterFilter@31428f76, org.springframework.security.web.authentication.logout.LogoutFilter@5f3fafca, com.fdmgroup.smart_code_assistant.security.JwtAuthenticationFilter@24a1858a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51d6c42d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68423388, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4199761d, org.springframework.security.web.session.SessionManagementFilter@514c6ca0, org.springframework.security.web.access.ExceptionTranslationFilter@21a462ce, org.springframework.security.web.access.intercept.AuthorizationFilter@47b71556]
2025-04-07T00:58:41.280+08:00  INFO 14224 --- [smart-code-assistant] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-04-07T00:58:41.297+08:00  INFO 14224 --- [smart-code-assistant] [main] c.f.s.SmartCodeAssistantApplication      : Started SmartCodeAssistantApplication in 5.72 seconds (process running for 5.962)
2025-04-07T00:59:02.176+08:00  INFO 14224 --- [smart-code-assistant] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-07T00:59:02.177+08:00  INFO 14224 --- [smart-code-assistant] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-07T00:59:02.179+08:00  INFO 14224 --- [smart-code-assistant] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-04-07T00:59:12.060+08:00 DEBUG 14224 --- [smart-code-assistant] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-07T00:59:15.669+08:00 DEBUG 14224 --- [smart-code-assistant] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.email,
        u1_0.password,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-04-07T01:00:49.215+08:00  INFO 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-04-07T01:00:49.218+08:00 DEBUG 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    alter table chat_session 
       drop 
       foreign key FKaslpghp2780b8do9ui5ps7pjn
2025-04-07T01:00:49.350+08:00 DEBUG 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    alter table chat_session_messages 
       drop 
       foreign key FKawj0u6xdn1wxqcdckmkf9uyc3
2025-04-07T01:00:49.367+08:00 DEBUG 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    alter table chat_session_messages 
       drop 
       foreign key FK53xb1q6pje850vm1eldcyac1g
2025-04-07T01:00:49.381+08:00 DEBUG 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists chat_message
2025-04-07T01:00:49.406+08:00 DEBUG 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists chat_session
2025-04-07T01:00:49.436+08:00 DEBUG 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists chat_session_messages
2025-04-07T01:00:49.461+08:00 DEBUG 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users
2025-04-07T01:00:49.495+08:00  INFO 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-04-07T01:00:49.509+08:00  INFO 14224 --- [smart-code-assistant] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
